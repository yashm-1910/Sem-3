
b1;:: TRANSACTION STARTED
r1(Y);:: READ LOCK ON Y BY TRANSACTION 1
w1(Y); 
 w1Y;:: UPGRADED TO WRITE LOCK ON Y
r1(Z);:: READ LOCK ON Z BY TRANSACTION 1
b2;:: TRANSACTION STARTED
r2(X);:: READ LOCK ON X BY TRANSACTION 2
w2(X); 
 w2X;:: UPGRADED TO WRITE LOCK ON X
w1(Z); 
 w1Z;:: UPGRADED TO WRITE LOCK ON Z
e1;
 e1;:: TRANSACTION1 COMMITTED
r2(Y);:: READ LOCK ON Y BY TRANSACTION 2
b3;:: TRANSACTION STARTED
r3(Z);:: READ LOCK ON Z BY TRANSACTION 3
w3(Z); 
 w3Z;:: UPGRADED TO WRITE LOCK ON Z
w2(Y); 
 w2Y;:: UPGRADED TO WRITE LOCK ON Y
e2;
 e2;:: TRANSACTION2 COMMITTED
r3(X);:: READ LOCK ON X BY TRANSACTION 3
w3(X); 
 w3X;:: UPGRADED TO WRITE LOCK ON X
e3;
 e3;:: TRANSACTION3 COMMITTED